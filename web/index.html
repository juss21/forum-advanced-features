<div class="index">
<h1>Welcome to our forum!</h1>

{{ if .Loggedin }}
<div id="createpost"> 
<form method="POST" onsubmit="return validate('title', 'body', 5, 10);">
    TITLE: <textarea name="post_header" cols="50" rows="1" id="title"></textarea><br>
    TEXT : <textarea name="post_content" cols="50" rows="4" id="body"></textarea><br>
    CATEGORY: <select id="categorys" name="category" required>
        {{range .Categories}}
        <option value="{{.Id}}">{{.Name}}</option>
        {{end}}
    </select>
    <input class="button" type="submit" value="New Post">
</form>
</div>
<script>function validate(x, y, i, j) {
        // check if input is bigger than 3
        var value = document.getElementById(x).value;
        var value2 = document.getElementById(y).value;

        if (value.length < i) {
            window.alert(x + " length must be at least " + i + " characters!")
            return false; // keep form from submitting
        } else if (value2.length < j) {
            window.alert(y + " length must be at least " + j + " characters!")
            return false; // keep form from submitting
        }
        return true;
    }</script>
<br>
{{end}}
<div id="postlist">
<form action="/changefilter",method="POST">
    CATEGORY FILTER: <select id="categoryfilter" name="categoryfilter" required>
        <option value="{{.SelectedFilter}}">{{.SelectedFilter}}</option>
        <option value="Kosmos">Kosmos</option>
        <option value="M채rgatud J천hvis">M채rgatud J천hvis</option>
        <option value="All">All Categories</option>
    </select>
    
    <input name="sendfilter" class="button" type="submit" value="Filter">
</form>

{{range .Forum_data}}

<div id="postlist">
 <div id="dateposted">{{.Date_posted}}  {{.Category}}</div>
 <!--div id="category">{{.Category}}</div--> 
 <div id="posttitle"><a href="/post/{{.Id}}"><h2>{{.Title}}</h2></a></div> 
 <div id="originalposter">posted by: {{.Author}}</div>
 <br>
</div>

{{end}}
</div>

</div>
</body>
</html>
